<form class="m-1" [formGroup]="paramForm" (ngSubmit)="confirmSaveItem()">
    <div
      [ngBusy]="{
        busy: busySuscription,
        message: 'Veuillez patienter ...',
        backdrop: false
      }"
    >
      <div class="row">
        <div class="col-12 mb-3">
          <label
            >Libellé :
            <span class="required_champs">*</span>
          </label>
          <input
            class="form-control custom-input"
            placeholder="Libellé"
            autocomplete="off"
            formControlName="paramCesLegLibelle"
            name="paramCesLegLibelle"
            [class.errorInputForm]="getFormFiledsValue('paramCesLegLibelle')?.invalid && getFormFiledsValue('paramCesLegLibelle')?.touched"
            type="text"
          />

          <small
            class="text-danger"
            *ngIf="(getFormFiledsValue('paramCesLegLibelle')?.dirty || getFormFiledsValue('paramCesLegLibelle')?.touched) && getFormFiledsValue('paramCesLegLibelle')?.invalid && getFormFiledsValue('paramCesLegLibelle')?.errors?.['required']"
          >
            Ce champ est obligatoire
          </small>
        </div>
      </div>

      <!-- <div class="row">
        <div class="col-12 mb-3">
          <label
            >Capital :
            <span class="required_champs">*</span>
          </label>
          <input
            class="form-control custom-input"
            placeholder="Capital"
            autocomplete="off"
            formControlName="paramCesLegCapital"
            mask="separator"
            name="paramCesLegCapital"
            [class.errorInputForm]="getFormFiledsValue('paramCesLegCapital')?.invalid && getFormFiledsValue('paramCesLegCapital')?.touched"
            type="text"
          />
          <small
          class="text-danger"
          *ngIf="(getFormFiledsValue('paramCesLegCapital')?.dirty || getFormFiledsValue('paramCesLegCapital')?.touched) && getFormFiledsValue('paramCesLegCapital')?.invalid && getFormFiledsValue('paramCesLegCapital')?.errors?.['required']"
        >
          Ce champs est obligatoire
        </small>
        </div>
      </div> -->

      <div class="row">
        <div class="col-12 mb-3">
          <label
            >Taux :
            <span class="required_champs">*</span>
          </label>
          <input
            class="form-control custom-input"
            placeholder="Taux"
            autocomplete="off"
            formControlName="paramCesLegTaux"
            maxlength="3"
            mask="separator"
            name="paramCesLegTaux"
            [class.errorInputForm]="getFormFiledsValue('paramCesLegTaux')?.invalid && getFormFiledsValue('paramCesLegTaux')?.touched"
            type="text"
          />
          <small
          class="text-danger"
          *ngIf="(getFormFiledsValue('paramCesLegTaux')?.dirty || getFormFiledsValue('paramCesLegTaux')?.touched) && getFormFiledsValue('paramCesLegTaux')?.invalid && getFormFiledsValue('paramCesLegTaux')?.errors?.['required']"
        >
          Ce champ est obligatoire
        </small>
        </div>
      </div>

      <div class="row">
        <div class="col-12 mb-3">
          <label
            >Type :
            <span class="required_champs">*</span>
          </label>

          <ng-select formControlName="typeId" name="typeId"
                  id="typeId">
                  <ng-option *ngFor="let country of listeTypeParam" [value]="country?.typeId">{{country.name}}</ng-option>
          </ng-select>

          <small
            class="text-danger"
            *ngIf="(getFormFiledsValue('typeId')?.dirty || getFormFiledsValue('typeId')?.touched) && getFormFiledsValue('typeId')?.invalid && getFormFiledsValue('typeId')?.errors?.['required']"
          >
            Ce champ est obligatoire
          </small>
        </div>
      </div>

      <div class="row">
        <div class="col-12 mb-3">
          <label
            >Pays :
            <span class="required_champs">*</span>
          </label>

          <ng-select formControlName="paysCode" name="paysCode"
                  id="paysCode">
                  <ng-option *ngFor="let country of listeCountry" [value]="country?.paysCode">{{country.paysNom}}</ng-option>
          </ng-select>

          <small
            class="text-danger"
            *ngIf="(getFormFiledsValue('paysCode')?.dirty || getFormFiledsValue('paysCode')?.touched) && getFormFiledsValue('paysCode')?.invalid && getFormFiledsValue('paysCode')?.errors?.['required']"
          >
            Ce champ est obligatoire
          </small>
        </div>
      </div>

      <div class="custom-btn-save-manager">
        <button
          type="submit"
          class="btn btn-md custom_btn_primary pull-right"
          [disabled]="!paramForm.valid"
        >
          {{(!itemToUpdate || !itemToUpdate?.paramCesLegId ) ? 'Enregistrer' : 'Modifier'}}
        </button>

        <button
          type="button"
          class="btn btn-md btn-cancel pull-right"
          (click)="closeModal.emit(false)"
        >
          Annuler
        </button>
      </div>
    </div>
  </form>
