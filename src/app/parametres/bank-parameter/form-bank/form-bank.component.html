<form class="m-1" [formGroup]="paramBankForm" (ngSubmit)="confirmSaveItem()">
  <div
    [ngBusy]="{
      busy: busySuscription,
      message: 'Veuillez patienter ...',
      backdrop: false
    }"
  >
    <div class="row">
      <div class="col-12 mb-3">
        <label
          >Code :
          <span class="required_champs">*</span>
        </label>
        <input
          class="form-control custom-input"
          placeholder="Code de la banque"
          autocomplete="off"
          formControlName="banCode"
          name="banCode"
          [class.errorInputForm]="getFormFiledsValue('banCode')?.invalid && getFormFiledsValue('banCode')?.touched"
          type="text"
        />

        <small
          class="text-danger"
          *ngIf="(getFormFiledsValue('banCode')?.dirty || getFormFiledsValue('banCode')?.touched) && getFormFiledsValue('banCode')?.invalid && getFormFiledsValue('banCode')?.errors?.['required']"
        >
          Ce champ est obligatoire
        </small>
      </div>
    </div>

    <div class="row">
      <div class="col-12 mb-3">
        <label
          >Numéro de compte :
          <span class="required_champs">*</span>
        </label>
        <input
          class="form-control custom-input"
          placeholder="Numéro de compte"
          autocomplete="off"
          formControlName="banNumCompte"
          name="banNumCompte"
          [class.errorInputForm]="getFormFiledsValue('banNumCompte')?.invalid && getFormFiledsValue('banNumCompte')?.touched"
          type="text"
        />

        <small
          class="text-danger"
          *ngIf="(getFormFiledsValue('banNumCompte')?.dirty || getFormFiledsValue('banNumCompte')?.touched) && getFormFiledsValue('banNumCompte')?.invalid && getFormFiledsValue('banNumCompte')?.errors?.['required']"
        >
          Ce champ est obligatoire
        </small>
      </div>
    </div>

    <div class="row">
      <div class="col-12 mb-3">
        <label
          >Libellé :
          <span class="required_champs">*</span>
        </label>
        <input
          class="form-control custom-input"
          placeholder="Libellé de la banque"
          autocomplete="off"
          formControlName="banLibelle"
          name="banLibelle"
          [class.errorInputForm]="getFormFiledsValue('banLibelle')?.invalid && getFormFiledsValue('banLibelle')?.touched"
          type="text"
        />
        <small
        class="text-danger"
        *ngIf="(getFormFiledsValue('banLibelle')?.dirty || getFormFiledsValue('banLibelle')?.touched) && getFormFiledsValue('banLibelle')?.invalid && getFormFiledsValue('banLibelle')?.errors?.['required']"
      >
        Ce champ est obligatoire
      </small>
      </div>
    </div>


    <div class="row">
      <div class="col-12 mb-3">
        <label
          >Code BIC :
        </label>
        <input
          class="form-control custom-input"
          placeholder="Code BIC"
          autocomplete="off"
          formControlName="banCodeBic"
          name="banCodeBic"
          type="text"
        />
      </div>
    </div>


    <div class="row">
      <div class="col-12 mb-3">
        <label
          > IBAN :
        </label>
        <input
          class="form-control custom-input"
          placeholder="IBAN"
          autocomplete="off"
          formControlName="banIban"
          name="banIban"
          type="text"
        />
      </div>
    </div>

    <div class="row">
      <div class="col-12 mb-3">
        <label
          >Abreviation :
          <span class="required_champs">*</span>
        </label>
        <input
          class="form-control custom-input"
          placeholder="Abreviation de la banque"
          autocomplete="off"
          formControlName="banLibelleAbrege"
          name="banLibelleAbrege"
          [class.errorInputForm]="getFormFiledsValue('banLibelleAbrege')?.invalid && getFormFiledsValue('banLibelleAbrege')?.touched"
          type="text"
        />
        <small
        class="text-danger"
        *ngIf="(getFormFiledsValue('banLibelleAbrege')?.dirty || getFormFiledsValue('banLibelleAbrege')?.touched) && getFormFiledsValue('banLibelleAbrege')?.invalid && getFormFiledsValue('banLibelleAbrege')?.errors?.['required']"
      >
        Ce champ est obligatoire
      </small>
      </div>
    </div>

    <div class="custom-btn-save-manager">
      <button
        type="submit"
        class="btn btn-md custom_btn_primary pull-right"
        [disabled]="!paramBankForm.valid"
      >
        {{(!bankToUpdate || !bankToUpdate.banId ) ? 'Enregistrer' : 'Modifier'}}
      </button>

      <button
        type="button"
        class="btn btn-md btn-cancel pull-right"
        (click)="closeModal.emit(false)"
      >
        Annuler
      </button>
    </div>
  </div>
</form>
