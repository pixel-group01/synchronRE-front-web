<form class="m-1" [formGroup]="paramForm" (ngSubmit)="confirmSaveItem()">
    <div
      [ngBusy]="{
        busy: busySuscription,
        message: 'Veuillez patienter ...',
        backdrop: false
      }"
    >

    <div class="row">
        <div class="col-12 mb-3">
          <label
            >Branche :
            <span class="required_champs">*</span>
          </label>

          <ng-select formControlName="branId" name="branId"
                  id="branId">
                  <ng-option *ngFor="let branche of listeBranches" [value]="branche?.branId">{{branche.branLibelle}}</ng-option>
          </ng-select>

          <small
            class="text-danger"
            *ngIf="(getFormFiledsValue('branId')?.dirty || getFormFiledsValue('branId')?.touched) && getFormFiledsValue('branId')?.invalid && getFormFiledsValue('branId')?.errors?.['required']"
          >
            Ce champ est obligatoire
          </small>
        </div>
      </div>



      <div class="row">
        <div class="col-12 mb-3">
          <label
            >Libellé :
            <span class="required_champs">*</span>
          </label>
          <input
            class="form-control custom-input"
            placeholder="Libellé"
            autocomplete="off"
            formControlName="couLibelle"
            name="couLibelle"
            [class.errorInputForm]="getFormFiledsValue('couLibelle')?.invalid && getFormFiledsValue('couLibelle')?.touched"
            type="text"
          />

          <small
            class="text-danger"
            *ngIf="(getFormFiledsValue('couLibelle')?.dirty || getFormFiledsValue('couLibelle')?.touched) && getFormFiledsValue('couLibelle')?.invalid && getFormFiledsValue('couLibelle')?.errors?.['required']"
          >
            Ce champ est obligatoire
          </small>
        </div>
      </div>

      <div class="row">
        <div class="col-12 mb-3">
          <label
            >Abregé :
            <span class="required_champs">*</span>
          </label>
          <input
            class="form-control custom-input"
            placeholder="Abregé"
            autocomplete="off"
            formControlName="couLibelleAbrege"
            name="couLibelleAbrege"
            [class.errorInputForm]="getFormFiledsValue('couLibelleAbrege')?.invalid && getFormFiledsValue('couLibelleAbrege')?.touched"
            type="text"
          />
          <small
          class="text-danger"
          *ngIf="(getFormFiledsValue('couLibelleAbrege')?.dirty || getFormFiledsValue('couLibelleAbrege')?.touched) && getFormFiledsValue('couLibelleAbrege')?.invalid && getFormFiledsValue('couLibelleAbrege')?.errors?.['required']"
        >
          Ce champ est obligatoire
        </small>
        </div>
      </div>

      <div class="custom-btn-save-manager">
        <button
          type="submit"
          class="btn btn-md custom_btn_primary pull-right"
          [disabled]="!paramForm.valid"
        >
          {{(!itemToUpdate || !itemToUpdate.couId) ? 'Enregistrer' : 'Modifier'}}
        </button>

        <button
          type="button"
          class="btn btn-md btn-cancel pull-right"
          (click)="closeModal.emit(false)"
        >
          Annuler
        </button>
      </div>
    </div>
  </form>
