<form [formGroup]="formulaireGroup" (ngSubmit)="confirmSaveItem(formulaireGroup.value)"
class="body table-responsive clsOverflow"
  [ngBusy]="{busy: busyGet, message: 'Veuillez patienter ...', backdrop: false}"
>
<div class="row">
    <div class="col-md-12 col-xs-12 col-sm-12 mb-1">
        <label>Tranche : <span class="required_champs">*</span> </label>
        <input
        class="form-control custom-input"
        placeholder=""
        autocomplete="off"
        name="trancheLibelle"
        type="text"
        formControlName="trancheLibelle"
        [class.errorInputForm]="
              getFormFiledsValue('trancheLibelle')?.invalid &&
              getFormFiledsValue('trancheLibelle')?.touched
            "/>
      <small class="text-danger"terrLibelletrancheLibelle
        *ngIf="(getFormFiledsValue('trancheLibelle')?.dirty || getFormFiledsValue('trancheLibelle')?.touched) && getFormFiledsValue('trancheLibelle')?.invalid && getFormFiledsValue('trancheLibelle')?.errors?.['required']">
        Ce champ est obligatoire
     </small>
      </div>
      <div class="col-md-12 col-xs-12 col-sm-12 mb-1">
        <label>Type de couverture : <span class="required_champs">*</span> </label>
        <ng-select
          name="trancheType"
          id="trancheType"
          formControlName="trancheType"
          [class.errorInputForm]="
                getFormFiledsValue('trancheType')?.invalid &&
                getFormFiledsValue('trancheType')?.touched
              ">

          <ng-option
            *ngFor="let typeCou of typeCouverture"
            [value]="typeCou?.libelle"
            >{{ typeCou.libelle }}</ng-option
          >
        </ng-select>
        <small class="text-danger"
        *ngIf="(getFormFiledsValue('trancheType')?.dirty || getFormFiledsValue('trancheType')?.touched) && getFormFiledsValue('trancheType')?.invalid && getFormFiledsValue('trancheType')?.errors?.['required']">
        Ce champ est obligatoire
     </small>
      </div>
      <div class="col-md-12 col-xs-12 col-sm-12 mb-1">
        <label>Pays concerné : <span class="required_champs">*</span> </label>
        <ng-select
        name="categorieIds"
        [multiple]="true"
        id="categorieIds"
        formControlName="categorieIds"
        [class.errorInputForm]="
              getFormFiledsValue('categorieIds')?.invalid &&
              getFormFiledsValue('categorieIds')?.touched
            ">
        <ng-option
          *ngFor="let pays of paysListe"
          [value]="pays?.categorieId"
          >{{ pays?.categorieLibelle }}</ng-option
        >
      </ng-select>
      <small class="text-danger"
      *ngIf="(getFormFiledsValue('categorieIds')?.dirty || getFormFiledsValue('categorieIds')?.touched) && getFormFiledsValue('categorieIds')?.invalid && getFormFiledsValue('categorieIds')?.errors?.['required']">
      Ce champ est obligatoire
   </small>
    </div>
      <div class="col-md-12 col-xs-12 col-sm-12 mb-1">
        <label>Branche : <span class="required_champs">*</span> </label>
        <ng-select
          name="risqueId"
          id="risqueId"
          formControlName="risqueId"
          [class.errorInputForm]="
                getFormFiledsValue('risqueId')?.invalid &&
                getFormFiledsValue('risqueId')?.touched
              ">
          <ng-option
            *ngFor="let branche of branchesListe"
            [value]="branche?.risqueId"
            >{{ branche.couLibelle }}</ng-option
          >
        </ng-select>
        <small class="text-danger"
        *ngIf="(getFormFiledsValue('risqueId')?.dirty || getFormFiledsValue('risqueId')?.touched) && getFormFiledsValue('risqueId')?.invalid && getFormFiledsValue('risqueId')?.errors?.['required']">
        Ce champ est obligatoire
     </small>
      </div>

      <div class="col-md-12 col-xs-12 mb-1">
        <label
          >Priorité :
          <span class="required_champs">*</span>
        </label>
        <input
          class="form-control custom-input"
          placeholder=""
          autocomplete="off"
          name="tranchePriorite"
          mask="separator"
          type="text"
          formControlName="tranchePriorite"
          [class.errorInputForm]="
                getFormFiledsValue('tranchePriorite')?.invalid &&
                getFormFiledsValue('tranchePriorite')?.touched
              "
        />
        <small class="text-danger"
        *ngIf="(getFormFiledsValue('tranchePriorite')?.dirty || getFormFiledsValue('tranchePriorite')?.touched) && getFormFiledsValue('tranchePriorite')?.invalid && getFormFiledsValue('tranchePriorite')?.errors?.['required']">
        Ce champ est obligatoire
        </small>
      </div>
      <div class="col-md-12 col-xs-12 mb-1">
        <label
          >Portée :
          <span class="required_champs">*</span>
        </label>
        <input
          class="form-control custom-input"
          placeholder=""
          autocomplete="off"
          name="tranchePorte"
          mask="separator"
          type="text"
          formControlName="tranchePorte"
          [class.errorInputForm]="
                getFormFiledsValue('tranchePorte')?.invalid &&
                getFormFiledsValue('tranchePorte')?.touched
              "
        />
        <small class="text-danger"
        *ngIf="(getFormFiledsValue('tranchePorte')?.dirty || getFormFiledsValue('tranchePorte')?.touched) && getFormFiledsValue('tranchePorte')?.invalid && getFormFiledsValue('tranchePorte')?.errors?.['required']">
        Ce champ est obligatoire
        </small>
      </div>
      <div class="col-md-12 col-xs-12 mb-1">
    <label
    >Taux de prime :
      <span class="required_champs">*</span>
    </label>
    <input
      class="form-control custom-input"
      placeholder=""
      autocomplete="off"
      name="trancheTauxPrime"
      type="text"
      formControlName="trancheTauxPrime"
      [class.errorInputForm]="
                getFormFiledsValue('trancheTauxPrime')?.invalid &&
                getFormFiledsValue('trancheTauxPrime')?.touched
              "
    />
    <small class="text-danger"
           *ngIf="(getFormFiledsValue('trancheTauxPrime')?.dirty || getFormFiledsValue('trancheTauxPrime')?.touched) && getFormFiledsValue('trancheTauxPrime')?.invalid && getFormFiledsValue('trancheTauxPrime')?.errors?.['required']">
      Ce champ est obligatoire
    </small>
  </div>
      <div class="col-md-12 col-xs-12 col-sm-12 mb-2">
        <button type="submit" class="btn btn-md custom_btn_primary pull-right">Enregistrer</button>
      </div>

    </div>
</form>
